<assembly
  xmlns="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2 http://maven.apache.org/xsd/assembly-1.1.2.xsd">
  <id>docker-maven-plugin</id>

  <fileSets>
      <fileSet>
          <directory>${project.basedir}/target/generated-resources/scripts</directory>
          <outputDirectory>/</outputDirectory>
          <includes>
              <include>entrypoint.sh</include>
              <include>runner.sh</include>
          </includes>
          <fileMode>744</fileMode>
      </fileSet>
      <fileSet>
          <directory>${project.basedir}/src/main/docker</directory>
          <outputDirectory>/</outputDirectory>
          <includes>
              <include>start.sh</include>
          </includes>
          <fileMode>744</fileMode>
      </fileSet>
  </fileSets>
  <files>
    <file>
      <source>${project.basedir}/target/${project.artifactId}-${project.version}.jar</source>
      <outputDirectory>/</outputDirectory>
      <destName>application.jar</destName>
      <fileMode>744</fileMode>
    </file>
  </files>
</assembly>
